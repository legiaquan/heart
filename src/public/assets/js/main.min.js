var container,stats,camera,scene,renderer,group,shapes=[];function init(){var e;container=document.createElement("div"),document.body.appendChild(container),scene=new THREE.Scene,(camera=new THREE.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,1e3)).position.set(0,150,500),scene.add(camera),(e=new THREE.DirectionalLight(10049023,2)).position.x=-500,e.position.y=500,camera.add(e),(e=new THREE.DirectionalLight(10049023,1)).position.x=500,e.position.y=-500,e.position.z=-150,camera.add(e),scene.background=new THREE.Color("#993355");var t=-25,i=-250,n=new THREE.Shape;n.moveTo(0,-225),n.bezierCurveTo(0,-225,-5,i,t,i),n.bezierCurveTo(-55,i,-55,-215,-55,-215),n.bezierCurveTo(-55,-195,-35,-173,0,-155),n.bezierCurveTo(35,-173,55,-195,55,-215),n.bezierCurveTo(55,-215,55,i,25,i),n.bezierCurveTo(10,i,0,-225,0,-225);for(var o={amount:1,bevelEnabled:!0,bevelSegments:20,steps:2,bevelSize:20,bevelThickness:10},a=-window.innerWidth/2;a<window.innerWidth/2;a+=60+50*Math.random())for(var r=0;r<window.innerHeight;r+=60+50*Math.random())addShape(n,o,"#ff0022",a,r,0,.8*Math.random(),.8*Math.random(),Math.PI,.1+.3*Math.random());(renderer=new THREE.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),container.appendChild(renderer.domElement),render()}function addShape(e,t,i,n,o,a,r,s,c,h){var d=new THREE.ExtrudeGeometry(e,t),l=new THREE.Mesh(d,new THREE.MeshPhongMaterial({color:i}));l.position.set(n+25,o-50,a),l.rotation.set(r,s,c),l.scale.set(h,h,h),shapes.push({shape:l,x:Math.random(),y:Math.random(),z:Math.random()}),scene.add(l)}function animate(){shapes.forEach(e=>{e.shape.rotation.x+=.05*e.x,e.shape.rotation.y+=.05*e.y,e.shape.rotation.z+=.05*e.z})}function render(){requestAnimationFrame(render),animate(),renderer.render(scene,camera)}init();var settings={color:"hsla(330, 100%, 80%, 0.5)",particles:{length:3e3,duration:2,velocity:7,effect:10,size:8}};!function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),o=Math.max(0,16-(n-e)),a=window.setTimeout(function(){t(n+o)},o);return e=n+o,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var Point=function(){function e(e,t){this.x=void 0!==e?e:0,this.y=void 0!==t?t:0}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.length=function(e){return void 0===e?Math.sqrt(this.x*this.x+this.y*this.y):(this.normalize(),this.x*=e,this.y*=e,this)},e.prototype.normalize=function(){var e=this.length();return this.x/=e,this.y/=e,this},e}(),Particle=function(){function e(){this.position=new Point,this.velocity=new Point,this.acceleration=new Point,this.age=0}return e.prototype.initialize=function(e,t,i,n){this.position.x=e,this.position.y=t,this.velocity.x=i,this.velocity.y=n,this.acceleration.x=i*settings.particles.effect,this.acceleration.y=n*settings.particles.effect,this.age=0},e.prototype.update=function(e){this.position.x+=this.velocity.x*e,this.position.y+=this.velocity.y*e,this.velocity.x+=this.acceleration.x*e,this.velocity.y+=this.acceleration.y*e,this.age+=e},e.prototype.draw=function(e,t){var i,n=t.width*(i=this.age/settings.particles.duration,--i*i*i+1);e.globalAlpha=1-this.age/settings.particles.duration,e.drawImage(t,this.position.x-n/2,this.position.y-n/2,n,n)},e}(),ParticlePool=function(){var e,t=0,n=0,o=settings.particles.duration;function a(t){e=new Array(t);for(var i=0;i<e.length;i++)e[i]=new Particle}return a.prototype.add=function(i,o,a,r){e[n].initialize(i,o,a,r),++n==e.length&&(n=0),t==n&&t++,t==e.length&&(t=0)},a.prototype.update=function(i){var a;if(t<n)for(a=t;a<n;a++)e[a].update(i);if(n<t){for(a=t;a<e.length;a++)e[a].update(i);for(a=0;a<n;a++)e[a].update(i)}for(;e[t].age>=o&&t!=n;)++t==e.length&&(t=0)},a.prototype.draw=function(o,a){if(t<n)for(i=t;i<n;i++)e[i].draw(o,a);if(n<t){for(i=t;i<e.length;i++)e[i].draw(o,a);for(i=0;i<n;i++)e[i].draw(o,a)}},a}();!function(e){var t,i=e.getContext("2d"),n=new ParticlePool(settings.particles.length),o=settings.particles.length/settings.particles.duration;function a(e){return new Point(160*Math.pow(Math.sin(e),3),130*Math.cos(e)-50*Math.cos(2*e)-20*Math.cos(3*e)-10*Math.cos(4*e)+25)}var r=function(){var e=document.createElement("canvas"),t=e.getContext("2d");function i(e){var t=a(e);return t.x=settings.particles.size/2+t.x*settings.particles.size/350,t.y=settings.particles.size/2-t.y*settings.particles.size/350,t}e.width=settings.particles.size,e.height=settings.particles.size,t.beginPath();var n=-Math.PI,o=i(n);for(t.moveTo(o.x,o.y);n<Math.PI;)o=i(n+=.01),t.lineTo(o.x,o.y);t.closePath(),t.fillStyle=settings.color,t.fill();var r=new Image;return r.src=e.toDataURL(),r}();function s(){requestAnimationFrame(s);var c=(new Date).getTime()/1e3,h=c-(t||c);t=c,i.clearRect(0,0,e.width,e.height);for(var d=o*h,l=0;l<d;l++){var u=a(Math.PI-2*Math.PI*Math.random()),p=u.clone().length(settings.particles.velocity);n.add(e.width/2+u.x,e.height/2-u.y,p.x,-p.y)}n.update(h),n.draw(i,r)}function c(){e.width=e.clientWidth,e.height=e.clientHeight}window.onresize=c,setTimeout(function(){c(),s()},10)}(document.getElementById("pinkboard"));